{% extends "base.html" %}
{% load staticfiles %}
{% load widget_tweaks %}

{% block styles %}
<div class="site-wrapper">

	<style>
		body {
			background: url('{% static "img/grasses_bokeh.jpg" %}') no-repeat center center fixed;
			-webkit-background-size: cover;
			-moz-background-size: cover;
			-o-background-size: cover;
			background-size: cover;
		}
	</style>

    <script type="text/javascript">
        function findChangeDivClass(errorField) {
            var errorId = errorField.id;
            var errorDiv = errorID + 'Div';
            errorDiv.className = 'form-group has-error';
        }
    </script>

{% endblock %}

{% block content %}

	<div class="jumbotron">
		<div class="container">
		  <img src='{% static "img/FiveUpLogo-05.png" %}' width="450" height="428">
		  <p>We're spreading happy, five texts at a time. <br>Keep scrolling to find out how, sign up, and get a little happy.</p>
		</div>
	</div>

    <button class="btn btn-default" onclick="changeClass()">My Button</button>


    <div class="jumbotron">
        <!-- modal stuff -->
        <div class="modal fade" id="signupModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                        <form data-parsley-validate method="post" action="/signup/">
                            <h4>I'm a fancy form that will sign you up, boss.</h4>

                                {% csrf_token %}
                                <div class="form-group" id="id_nameDiv">
                                    <label for="id_name">Your name:</label>
                                    {{ form.name|add_class:"form-control required"}}
                                </div>
                                <div class="form-group" id="emailDiv">
                                    <!-- <label>Your email address:</label> -->
                                    {{ form.email|add_class:"form-control required"|attr:"data-parsley-type:email" }}
                                </div>
                                <div class="form-group" id="phoneDiv">
                                    <!-- <label>Your phone number:</label> -->
                                    {{ form.phone_number|add_class:"form-control required" }}
                                </div>
                                <div class="form-group" id="carrierDiv">
                                    <!-- <label>Who provides your phone service?</label> -->
                                    {{ form.carrier|add_class:"form-control required" }}
                                </div>
                                <div class="form-group" id="zoneDiv">
                                    <!-- <label>What time zone are you in?</label> -->
                                    {{ form.user_timezone|add_class:"form-control required" }}
                                </div>
                                <div class="form-group" id="passDiv">
                                    <!-- <label>Your super-secret password:</label> -->
                                    {{ form.password|add_class:"form-control required" }}
                                </div>
                                <div>
                                    <p class="help-block pull-left text-danger hide" id="form-error">&nbsp; The form is not valid. </p>
                                </div>
                                <button type="submit" class="btn btn-default">Submit</button>
                                <button class="btn btn-default" data-dismiss="modal">Cancel</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- end modal -->

        <button type="button" id="sign-up-btn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#signupModal">
          Sign me up!
        </button>

    </div>

</div>

<!--<script type="text/javascript">
    function changeClass()

        document.getElementById('inputSuccess1').addClass('has-error');

</script> -->

 <script type="text/javascript">
        function changeClass() {
            var elem = document.getElementById('id_nameDiv');
            elem.className += ' has-error';
        }

</script>

<!--
<script type='text/javascript'>
        
        $(document).ready(function() {
            /* form validation plugin */
$.fn.goValidate = function() {
    var $form = this,
        $inputs = $form.find('input:text');
  
    var validators = {
        name: {
            regex: /^[A-Za-z]{3,}$/
        },
        pass: {
            regex: /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/
        },
        email: {
            regex: /^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/
        },
        phone: {
            regex: /^[2-9]\d{2}-\d{3}-\d{4}$/,
        }
    };
    var validate = function(klass, value) {
        var isValid = true,
            error = '';
            
        if (!value && /required/.test(klass)) {
            error = 'This field is required';
            isValid = false;
        } else {
            klass = klass.split(/\s/);
            $.each(klass, function(i, k){
                if (validators[k]) {
                    if (value && !validators[k].regex.test(value)) {
                        isValid = false;
                        error = validators[k].error;
                    }
                }
            });
        }
        return {
            isValid: isValid,
            error: error
        }
    };
    var showError = function($input) {
        var klass = $input.attr('class'),
            value = $input.val(),
            test = validate(klass, value);
      
        $input.removeClass('invalid');
        $('#form-error').className += ' hide';
        
        if (!test.isValid) {
            $input.className += ' invalid';

            if(typeof $input.data("shown") == "undefined" || $input.data("shown") == false){
               $input.popover('show');
            }
            
        }
      else {
        $input.popover('hide');
      }
    };
   
    $inputs.keyup(function() {
        showError($(this));
    });
  
    $inputs.on('shown.bs.popover', function () {
        $(this).data("shown",true);
    });
  
    $inputs.on('hidden.bs.popover', function () {
        $(this).data("shown",false);
    });
  
    $form.submit(function(e) {
      
        $inputs.each(function() { /* test each input */
            if ($(this).is('.required') || $(this).className ='invalid') {
                showError($(this));
            }
        });
        if ($form.find('input.invalid').length) { /* form is not valid */
            e.preventDefault();
            $('#form-error').className = 'help-block pull-left text-danger';
        }
    });
    return this;
};
$('form').goValidate();
</script>
-->



{% endblock %}

{% block js %}
<script>
    // var formAjaxSubmit = function(form, modal) {
    //     $(form).submit(function (e) {
    //         e.preventDefault();
    //         $.ajax({
    //             type: $(this).attr('method'),
    //             url: $(this).attr('action'),
    //             data: $(this).serialize(),
    //             success: function (xhr, ajaxOptions, thrownError) {
    //                 if ( $(xhr).find('.has-error').length > 0 ) {
    //                     $(modal).find('.modal-body').html(xhr);
    //                     formAjaxSubmit(form, modal);
    //                 } else {
    //                     $(modal).modal('toggle');
    //                 }
    //             },
    //             error: function (xhr, ajaxOptions, thrownError) {
    //             }
    //         });
    //     });
    // }
    // $('#sign-up-btn').click(function() {
    //     $('#signupModal-body').load('/signup/', function () {
    //         $('#signupModal').modal('toggle');
    //         formAjaxSubmit('#signupModal-body form', '#signupModal');
    //     });
    // });
</script>
{% endblock js %} -->
